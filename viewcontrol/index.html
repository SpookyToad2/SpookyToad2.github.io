<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Viewcontrol System — Developer Guide</title>
  
  <meta name="description" content="Documentation for viewcontrol_controller.nut — A TF2 VScript camera management system.">
  <meta property="og:title" content="Viewcontrol System — Developer Guide">
  <meta property="og:description" content="Manage shared and per-player point_viewcontrol cameras with ease.">
  <meta property="og:type" content="website">

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet" />
  
  <style>
    :root {
      --bg:        #0d1117;
      --surface:   #161b22;
      --border:    #30363d;
      --accent:    #58a6ff;
      --accent2:   #f78166;
      --accent3:   #3fb950;
      --accent4:   #d2a8ff;
      --text:      #e6edf3;
      --muted:     #8b949e;
      --tag-a-bg:  #1d3557;
      --tag-b-bg:  #2d1b4e;
      --warn-bg:   #2a1a00;
      --warn-bd:   #d29922;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
    }

    /* ── STICKY HEADER ──────────────────────────────── */
    #header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: #0d1117;
      border-bottom: 1px solid var(--border);
      padding: 16px 28px;
      display: flex;
      align-items: center;
      gap: 16px;
      flex-wrap: wrap;
    }

    #header h1 {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text);
      white-space: nowrap;
      letter-spacing: -0.02em;
    }

    #header .subtitle {
      font-size: 0.8rem;
      font-family: 'JetBrains Mono', monospace;
      color: var(--muted);
    }

    #fn-bar {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-left: auto;
    }

    #fn-bar a {
      text-decoration: none;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      font-weight: 500;
      padding: 4px 10px;
      border-radius: 4px;
      border: 1px solid var(--border);
      color: var(--muted);
      transition: all 0.15s ease;
    }

    #fn-bar a:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: rgba(88, 166, 255, 0.1);
    }

    /* ── INFO RIBBON ────────────────────────────────── */
    #ribbon {
      background: #161b22;
      border-bottom: 1px solid var(--border);
      padding: 24px 32px;
    }

    #ribbon h2 {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--muted);
      margin-bottom: 16px;
    }

    .quick-ref {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }

    .qr-card {
      background: #0d1117;
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 16px;
    }

    .qr-card .label {
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 8px;
    }

    code {
      font-family: 'JetBrains Mono', monospace;
      background: rgba(255, 255, 255, 0.05);
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.9em;
    }

    .qr-card code {
      display: block;
      background: transparent;
      padding: 0;
      color: var(--accent3);
      font-size: 0.85rem;
      margin-bottom: 8px;
    }

    .qr-card .desc {
      font-size: 0.75rem;
      color: var(--muted);
    }

    /* ── MAIN LAYOUT ────────────────────────────────── */
    #main {
      max-width: 1120px;
      margin: 0 auto;
      padding: 48px 28px 80px;
      display: flex;
      flex-direction: column;
      gap: 64px;
    }

    .section-heading {
      margin-bottom: 24px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
    }

    .section-heading h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--text);
    }

    .badge {
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.05em;
      padding: 2px 8px;
      border-radius: 3px;
      text-transform: uppercase;
      display: inline-block;
      margin-bottom: 8px;
    }

    .badge-a  { background: var(--tag-a-bg); color: var(--accent); }
    .badge-b  { background: var(--tag-b-bg); color: var(--accent4); }
    .badge-ev { background: #1c2a1c; color: var(--accent3); }

    .fn-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(480px, 1fr));
      gap: 20px;
    }

    .fn-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 24px;
      scroll-margin-top: 100px;
    }

    .fn-card.ll {
      opacity: 0.7;
      border-style: dashed;
    }

    .fn-sig {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 16px;
    }
    
    .fn-sig .fn-name { color: var(--accent3); }
    .fn-sig .fn-param { color: var(--accent4); }

    .label-inline {
      font-size: 0.65rem;
      font-weight: 700;
      text-transform: uppercase;
      padding: 2px 6px;
      border-radius: 3px;
      margin-right: 8px;
    }

    .lbl-purpose { background: #1d2d44; color: var(--accent); }
    .lbl-when    { background: #1a2a1a; color: var(--accent3); }

    .param-table {
      width: 100%;
      margin-top: 16px;
      font-size: 0.8rem;
      border-collapse: collapse;
    }
    .param-table th { text-align: left; color: var(--muted); border-bottom: 1px solid var(--border); padding: 8px 4px; font-weight: 600; }
    .param-table td { padding: 10px 4px; border-bottom: 1px solid rgba(48,54,61,0.5); }

    .alert { border-radius: 6px; padding: 16px; font-size: 0.85rem; margin-top: 24px; border: 1px solid transparent; }
    .alert.info { background: #0d1117; border-color: var(--accent); color: var(--text); }
    .alert.warn { background: #0d1117; border-color: var(--warn-bd); color: var(--text); }

    .event-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
    .event-table th { text-align: left; padding: 12px 8px; border-bottom: 1px solid var(--border); color: var(--muted); }
    .event-table td { padding: 12px 8px; border-bottom: 1px solid var(--border); }

    footer {
      text-align: center;
      padding: 60px 40px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 0.8rem;
    }

    footer a { color: var(--accent); text-decoration: none; }
    footer a:hover { text-decoration: underline; }

    #copyHint {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--surface);
      color: var(--text);
      border: 1px solid var(--accent);
      padding: 10px 20px;
      border-radius: 4px;
      font-size: 0.85rem;
      display: none;
      z-index: 1000;
    }
  </style>
</head>
<body>

<header id="header">
  <div>
    <h1>Viewcontrol System</h1>
    <div class="subtitle">viewcontrol_controller.nut</div>
  </div>
  <nav id="fn-bar">
    <a href="#fn-SpawnAndEnableAll">SpawnAndEnableAll</a>
    <a href="#fn-SpawnAndEnable">SpawnAndEnable</a>
    <a href="#fn-SpawnAndEnablePerPlayer">SpawnAndEnablePerPlayer</a>
  </nav>
</header>

<div id="ribbon">
  <h2>Quick Reference</h2>
  <div class="quick-ref">
    <div class="qr-card">
      <div class="label">Shared Camera</div>
      <code>SpawnAndEnableAll()</code>
      <div class="desc">Activates one camera for all players simultaneously.</div>
    </div>
    <div class="qr-card">
      <div class="label">Targeted Camera</div>
      <code>SpawnAndEnable(player)</code>
      <div class="desc">Routes the shared camera to a specific player handle.</div>
    </div>
    <div class="qr-card">
      <div class="label">Cinematic Path</div>
      <code>SpawnAndEnablePerPlayer(...)</code>
      <div class="desc">Spawns unique cameras per-player for moving paths.</div>
    </div>
  </div>
</div>

<main id="main">
  <section id="overview">
    <div class="section-heading"><h2>Overview</h2></div>
    <p>This VScript system manages <code>point_viewcontrol</code> entities for cinematic sequences. It handles player freezing (FL_ATCONTROLS), invulnerability, and state restoration automatically.</p>
    <div class="alert info">
      <strong>Setup:</strong> Attach the script to an entity. The entity's origin and angles define the camera position.
    </div>
  </section>

  <section id="system-a">
    <div class="section-heading">
      <span class="badge badge-a">System A</span>
      <h2>Shared Camera System</h2>
    </div>
    <div class="fn-grid">
      <div class="fn-card" id="fn-SpawnAndEnableAll">
        <div class="fn-sig"><span class="fn-name">SpawnAndEnableAll</span>(<span class="fn-param">hParent</span> = null)</div>
        <p><span class="label-inline lbl-purpose">Function</span> Spawns the camera and enables it for every connected player.</p>
      </div>
      <div class="fn-card" id="fn-SpawnAndEnable">
        <div class="fn-sig"><span class="fn-name">SpawnAndEnable</span>(<span class="fn-param">hPlayer</span>, <span class="fn-param">hParent</span> = null)</div>
        <p><span class="label-inline lbl-purpose">Function</span> Enables the shared camera for a single specified player.</p>
      </div>
    </div>
  </section>

  <section id="system-b">
    <div class="section-heading">
      <span class="badge badge-b">System B</span>
      <h2>Per-Player System</h2>
    </div>
    <div class="fn-grid">
      <div class="fn-card" id="fn-SpawnAndEnablePerPlayer">
        <div class="fn-sig"><span class="fn-name">SpawnAndEnablePerPlayer</span>(target, moveto, speed, accel, decel)</div>
        <p><span class="label-inline lbl-purpose">Function</span> Creates a dedicated camera for each player. Ideal for <code>path_corner</code> cinematics.</p>
      </div>
    </div>
  </section>

  <section id="cleanup">
    <div class="section-heading">
      <span class="badge badge-ev">Logic</span>
      <h2>Event Cleanup</h2>
    </div>
    <p>Cameras are automatically destroyed on the following game events to prevent player lock-out:</p>
    <table class="event-table">
      <thead>
        <tr><th>Event</th><th>Trigger</th></tr>
      </thead>
      <tbody>
        <tr><td>teamplay_round_start</td><td>Fires when a new round begins.</td></tr>
        <tr><td>teamplay_round_win</td><td>Fires when a team wins the round.</td></tr>
        <tr><td>scorestats_accumulated_update</td><td>Fires at the end-of-round stats screen.</td></tr>
      </tbody>
    </table>
  </section>
</main>

<footer>
  <p>viewcontrol_controller.nut &bull; Documentation by SpookyToad</p>
  <p style="margin-top:12px;">
    <a href="https://github.com/YOUR_USERNAME/YOUR_REPO/edit/main/index.html">Edit this page on GitHub</a>
  </p>
</footer>

<div id="copyHint">Snippet copied to clipboard</div>

<script>
  document.querySelectorAll('code').forEach(code => {
    code.style.cursor = 'pointer';
    code.title = 'Click to copy';
    code.addEventListener('click', () => {
      const text = code.innerText.trim();
      navigator.clipboard.writeText(text);
      
      const hint = document.getElementById('copyHint');
      hint.style.display = 'block';
      setTimeout(() => { hint.style.display = 'none'; }, 2000);
    });
  });
</script>

</body>
</html>